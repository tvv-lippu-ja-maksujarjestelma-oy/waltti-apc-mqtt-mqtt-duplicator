# mqtt-mqtt-duplicator example environment file
# Copy to .env and adjust values for your environment

# Logging
PINO_LOG_LEVEL=info

# Health checks
HEALTH_CHECK_PORT=8080

# Source MQTT (CloudAMQP)
SOURCE_MQTT_URL=mqtts://cloudamqp.example.com:8883
# Optional: use file-based auth in containers; leave unset if using URL creds
SOURCE_MQTT_USERNAME_PATH=/secrets/source-mqtt-username
SOURCE_MQTT_PASSWORD_PATH=/secrets/source-mqtt-password
SOURCE_MQTT_CLIENT_ID_PREFIX=waltti-duplicator-src-
SOURCE_MQTT_CLIENT_ID_SUFFIX_LENGTH=16
SOURCE_MQTT_TOPIC_FILTER=apc-from-vehicle/#
SOURCE_MQTT_QOS=2
SOURCE_MQTT_CLEAN_SESSION=false

# Destination MQTT (RabbitMQ MQTT plugin)
DEST_MQTT_URL=mqtts://rabbitmq.example.com:8883
# Optional: use file-based auth in containers; leave unset if using URL creds
DEST_MQTT_USERNAME_PATH=/secrets/dest-mqtt-username
DEST_MQTT_PASSWORD_PATH=/secrets/dest-mqtt-password
DEST_MQTT_CLIENT_ID_PREFIX=waltti-duplicator-dst-
DEST_MQTT_CLIENT_ID_SUFFIX_LENGTH=16
DEST_MQTT_CLEAN_SESSION=true

# Forwarding behavior
FORWARD_QOS_MAX=1
FORWARD_RETAIN=true

# Optional: Save messages to a local NDJSON file when running
SAVE_MESSAGES_TO_FILE=false
SAVE_MESSAGES_FILE_PATH=./messages.ndjson
